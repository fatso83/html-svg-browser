    <style>

    body {
        padding: 0;
        margin: 0;
        font-family: Verdana;
        background: linear-gradient(135deg, #F99, #99F 60%, #99F);
    }

    main {
        width: 100%;
        padding: 5em;
        text-align: center;
        background: linear-gradient( rgba(255,255,255,0), rgba(255,255,255,1) 30%, rgba(255,255,255,1) 70%, rgba(255,255,255,0)); 
    }

    .title, .intro {
        text-align: center;
        max-width: 1280px;
    }

    .title {
        margin-top: 2em;
    }

    #svg-browser {
        margin: 0 auto;
    }

    .clearfix, #svg-browser:after {
        clear: both;
        content: "";
        display: table;
    }

    main {
        text-align: center;
        font-size: 1em;
    }

    .image-block {
        float: left;
        width: 130px;
        height: 180px;
        background: white;
        text-align: center;
    }

    svg {
        padding: 10px;
        height: 80px;
        width: 80px;
    }

    p {
        font-size: 12px;
        text-overflow: ellipsis;
        margin: 10px;
        text-align: center;
    }

    input {
        margin-top: 2em;
    }

    </style>

    <h1 class="title">SVG Browser</h1>
    <main>
        <p>Browse your computer and select some SVG files to preview them here.</p>
        <p>
        Lack SVGs to test with? 
        Try Google's <a href="https://github.com/google/material-design-icons/releases/download/3.0.1/material-design-icons-3.0.1.zip">Material Icons</a> package!
        Just unzip and play.
        </p>
        <input id="fileInput" type="file" multiple>
    </main>



<div id="svg-browser" class="clearfix "></div>


<script> 
var myFilesEl = document.querySelector("#fileInput");
var output = document.querySelector("#svg-browser");
var map = Array.prototype.map;
var apply = Array.prototype.apply;
var filter = Array.prototype.filter;

function pullfiles() {
    // love the query selector
    var fileInput = myFilesEl;
    var files = fileInput.files;
    var svgFiles = filter.call(files, f => f.name.match(/.*\.svg$/) );
    var fragment = document.createDocumentFragment();

    if(svgFiles.length){
        var imageBlocks = svgFiles.map(buildImageBlock);
        imageBlocks.forEach((block) => fragment.append(block));

        // really dirty hack to save pictures once finished ... but quick to implement :p
        setTimeout(()=> localStorage.setItem("cache", output.innerHTML), 2000)
    } else {
        var p = document.createElement("p");
        p.innerText = "No svgs selected";
        fragment.append(p);
    }

    // empty the current content
    while (output.firstChild) {
        output.removeChild(output.firstChild);
    }

    output.append(fragment);
}

// returns the svg element as a long string
function unpackSvgElement(base64EncodedSvg){
    var prefix = "data:image/svg+xml;base64,";
    // Decode the String
    debugger;
    var decodedString = atob(base64EncodedSvg.slice(prefix.length));
    return decodedString;
}

function buildImageBlock (file) {
    var reader = new FileReader();
    var block = document.createElement("div");
    block.classList.add("image-block");
    reader.onload = (e) => { 
        var svgCode = unpackSvgElement(e.target.result);
        svgCode += "<p>" + file.name + "</p>";
        block.innerHTML = svgCode;
    };
    reader.readAsDataURL(file);

    return block;
}

myFilesEl.onchange = pullfiles;

var cache = localStorage.getItem("cache")
if(cache) {
    output.innerHTML = cache;
}

</script>

